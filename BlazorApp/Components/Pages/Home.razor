@page "/"
@inject IConfiguration Configuration

<PageTitle>Home</PageTitle>

<h4>Demo B2C</h4>
<br/>

<a href="@GetSwaggerUrl()/swagger" target="_blank">Swagger</a>

@* <p>Environment: @Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")</p> *@

<p>Version: @Configuration["Version"]</p>

<p>BaseUrl: @Configuration["WeatherApi:BaseUrl"]</p>

<p>SecureUrl: @Configuration["WeatherApi:SecureUrl"]</p>

<h5>All Environment Variables</h5>
<table class="table table-sm table-bordered">
    <thead>
        <tr>
            <th>Key</th>
            <th>Value</th>
        </tr>
    </thead>
    <tbody>
        @foreach (System.Collections.DictionaryEntry env in Environment.GetEnvironmentVariables())
        {
            <tr>
                <td>@env.Key</td>
                <td>@env.Value</td>
            </tr>
        }
    </tbody>
</table>

@code {
    private string GetSwaggerUrl()
    {
        var swaggerUrl = Configuration["SwaggerUrl"];

        if (!string.IsNullOrEmpty(swaggerUrl))
        {
            return swaggerUrl;
        }

        return Configuration["SwaggerUrl"] ?? "https://localhost:8083";
    }
}